# SeaBattle

Игра "Морской Бой" формата человек-бот

Логика бота реализована на основе нескольких жадных алгоритмов:

- Подсчет вероятности расположения каждого из имеющихся на данный момент игры у игрока кораблей
- Режим охоты на подбитый корабль, исключающий выстрелы по уже просмотренным или невыгодным клеткам

А также на основе обычных алгоритмов:

- Стрельба в виде шахматной доски
- Стрельба на основе вероятностной карты
- Случайная стрельба (не используется в данной версии проекта)


Из всего перечисленного, пожалуй, наибольший интерес вызывает подсчет вероятности, она же вероятностая карта.
Вероятностная карта - матрица такого же размера как и поле, в каждой клетке которой расположен определенный вес, просчитываемый для каждого оставшегося у человека корабля.

Этап работы подсчета вероятности:
- Выбор корабля из списка неуничтоженных кораблей человека
- Выбор (x, y) клетки игрового поля
- Выбор ориентации корабля (горизонтальный или вертикальный), причем проверяются оба
- Проверка возможности разместить корабль с выбранной ориентацией в (x, y) клетке
- Если такая возможность есть, то каждой клетке куда можно поместить корабль добавляется вес, причем чем больше корабль - тем существенно больше вес занимаемых им клеток (weight = length * 2)
- Если возможности нет, идем дальше

В итоге у нас сформируется вероятностная карта, которая поможет боту выбрать наиболее выгодные для стрельбы клетки.

Помимо этого, если остались только корабли размером не более 2 клеток, то алгоритм перестраивает свою работу:
- Выбирается (x, y) клетка игрового поля
- Проверяется, что эта клетка не открыта
- Возле выбранной клетки (x, y) проверяются 8 других клеток
- Если полученная клетка в области поля и входит в число открытых, то
- Добавляется +1 к переменной empty_around, которая затем устанавливает клетке (x, y) вес равный empty_around * 10

Подобный алгоритм необходим для оптимизированных действий бота в период игры, когда остаются только маленькие корабли (в основном единичной длины).
